{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n    const searchParams = new URLSearchParams({\n        key: \"43104791-fccc42375971f64c47e678deb\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n\n    const url = `https://pixabay.com/api/?${searchParams}`;\n\n    return fetch(url).then(response => {\n        if (!response.ok) {\n\n            throw new Error(response.status)\n        }\n\n        return response.json();\n    });\n}","import SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector(\".gallery\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',});\n\nexport function renderImages(data) {\n\n    const galleryMarkup = data.map(({largeImageURL,webformatURL,tags,likes,views,comments,downloads}) => {\n      \n        return `<li class=\"photos-list-item\">\n        <a class=\"photos-list-link\" href=\"${largeImageURL}\">\n        <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n        <ul class=\"photo-information-container\">\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span></br>${likes}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span></br>${views}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span></br>${comments}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span></br>${downloads}</p></li>\n        </ul>\n        </li>`}).join(\"\");\n    \n    galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n    \n    lightbox.refresh();\n  }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\n\n\nlet query;\nconst galleryList = document.querySelector(\".gallery\");\nconst form = document.querySelector(\"form\");\nconst loader = document.querySelector('.loader');\n\n//*===========================================================================================================\n\nfunction showLoader() {\n    loader.classList.remove(\"is-hidden\");}\n\n\nfunction hideLoader() {\n    loader.classList.add(\"is-hidden\");}\n\n//*===========================================================================================================\nform.addEventListener(\"submit\", validInput);\n\nfunction validInput(event){\n\n  event.preventDefault();\n\n  galleryList.innerHTML = \"\";\n\n  query = event.target.elements.search.value.trim();\n\n  showLoader();\n  \n  if (query === \"\") {\n      iziToast.warning({\n          color: 'yellow',\n          message: \"Please fill in the field for search!\",\n          position: 'topRight'\n      })\n      return\n  }\n    fetchImages(query).then(data =>{\n      if (data.hits.length === 0) {\n          iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            backgroundColor: \"red\",\n            messageColor: \"white\",\n            position: 'topRight'})\n          }\n          renderImages(data.hits)\n\n          event.target.reset();\n          \n      return\n    })\n    .catch(error => {console.log(error);\n          iziToast.error({\n            title: 'Error',\n            message: `Sorry, there are no images matching your search query. Please, try again!`,\n            position: 'topRight'}\n            )\n          }).finally(() => hideLoader())\n        }"],"names":["fetchImages","query","url","response","galleryList","lightbox","SimpleLightbox","renderImages","data","galleryMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","loader","showLoader","hideLoader","validInput","event","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAS/B,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GAEV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CAAK,CACL,CChBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAE/CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,KAAK,CAAE,EAEhB,SAASC,EAAaC,EAAM,CAE/B,MAAMC,EAAgBD,EAAK,IAAI,CAAC,CAAC,cAAAE,EAAc,aAAAC,EAAa,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAS,IAEpF;AAAA,4CAC6BN,CAAa;AAAA,kCACvBC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,gGAGoCC,CAAK;AAAA,gGACLC,CAAK;AAAA,mGACFC,CAAQ;AAAA,oGACPC,CAAS;AAAA;AAAA,cAE9F,EAAE,KAAK,EAAE,EAEpBZ,EAAY,mBAAmB,YAAaK,CAAa,EAEzDJ,EAAS,QAAO,CACpB,CCrBA,IAAIJ,EACJ,MAAMG,EAAc,SAAS,cAAc,UAAU,EAC/Ca,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EAI/C,SAASC,GAAa,CAClBD,EAAO,UAAU,OAAO,WAAW,CAAE,CAGzC,SAASE,GAAa,CAClBF,EAAO,UAAU,IAAI,WAAW,CAAE,CAGtCD,EAAK,iBAAiB,SAAUI,CAAU,EAE1C,SAASA,EAAWC,EAAM,CAUxB,GARAA,EAAM,eAAc,EAEpBlB,EAAY,UAAY,GAExBH,EAAQqB,EAAM,OAAO,SAAS,OAAO,MAAM,OAE3CH,IAEIlB,IAAU,GAAI,CACdsB,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,uCACT,SAAU,UACpB,CAAO,EACD,MACH,CACCvB,EAAYC,CAAK,EAAE,KAAKO,GAAO,CACzBA,EAAK,KAAK,SAAW,GACrBe,EAAS,MAAM,CACb,QAAS,2EACT,gBAAiB,MACjB,aAAc,QACd,SAAU,UAAU,CAAC,EAEvBhB,EAAaC,EAAK,IAAI,EAEtBc,EAAM,OAAO,OAGvB,CAAK,EACA,MAAME,GAAS,CAAC,QAAQ,IAAIA,CAAK,EAC5BD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4EACT,SAAU,UAAU,CACnB,CACb,CAAW,EAAE,QAAQ,IAAMH,GAAY,CACvC"}